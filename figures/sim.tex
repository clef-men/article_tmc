\begin{figure}[tp]
    \begin{align*}
    		\mathrm{sim \mathhyphen body}_\Chi
    		&\coloneqq
    		\begin{array}{l}
    				\lambdaAbs sim \ldotp
    				\lambdaAbs sim \mathhyphen inner \ldotp
    				\lambdaAbs {(\Phi, e_s, e_t)} \ldotp
    				\forall \sigma_s, \sigma_s \ldotp
    				\mathrm{I} (\sigma_s, \sigma_t)
    				\iSepImp \iBupd
    			\\
    				\bigvee \left[ \begin{array}{ll}
    							\circled{1}
    						&
    							\mathrm{I} (\sigma_s, \sigma_t) \iSep
    							\Phi (e_s, e_t)
    					\\
    					        \circled{2}
                            &
                                \mathrm{I} (\sigma_s, \sigma_t) \iSep
    							\mathrm{strongly \mathhyphen stuck}_{p_s} (e_s) \iSep
    							\mathrm{strongly \mathhyphen stuck}_{p_t} (e_s)
    					\\
    							\circled{3}
    						&
    							\exists e_s', \sigma_s' \ldotp
    							(e_s, \sigma_s) \step{p_s}^+ (e_s', \sigma_s') \iSep
    							\mathrm{I} (\sigma_s', \sigma_t) \iSep
    							sim \mathhyphen inner (\Phi, e_s', e_t)
    					\\
    							\circled{4}
    						&
								\mathrm{reducible}_{p_t} (e_t, \sigma_t) \iSep
								\forall e_t', \sigma_t' \ldotp
								(e_t, \sigma_t) \step{p_t} (e_t', \sigma_t')
								\iSepImp \iBupd
						\\
                            &
								\bigvee \left[ \begin{array}{ll}
											\circled{A}
										&
											\mathrm{I} (\sigma_s, \sigma_t') \iSep
											sim \mathhyphen inner (\Phi, e_s, e_t')
									\\
											\circled{B}
										&
											\exists e_s', \sigma_s' \ldotp
											(e_s, \sigma_s) \step{p_s}^+ (e_s', \sigma_s') \iSep
											\mathrm{I} (\sigma_s', \sigma_t') \iSep
											sim (\Phi, e_s', e_t')
								\end{array} \right.
    					\\
    							\circled{5}
    						&
    							\exists K_s, e_s', K_t, e_t', \Psi \ldotp
    					\\
    					    &
    					        e_s = K_s [e_s'] \iSep
    							e_t = K_t [e_t'] \iSep
    						    \Chi (\Psi, e_s', e_t') \iSep
    						    \mathrm{I} (\sigma_s, \sigma_t) \iSep {}
    					\\
                            &
								\forall e_s'', e_t'' \ldotp
								\Psi (e_s'', e_t'') \iSepImp
								sim (\Phi, K_s [e_s''], K_t [e_t''])
    				\end{array} \right.
    		\end{array}
    	\\
    	    \mathrm{sim \mathhyphen inner}_\Chi
    	    &\coloneqq
    	    \lambdaAbs sim \ldotp
    	    \muAbs sim \mathhyphen inner \ldotp
    	    \mathrm{sim \mathhyphen body}_\Chi (sim, sim \mathhyphen inner)
    	\\
    		\mathrm{sim}_\Chi
    		&\coloneqq
    		\nuAbs sim \ldotp
    		\mathrm{sim \mathhyphen inner}_\Chi (sim)
    	\\
    		\iSim[\Chi]{\Phi}{e_s}{e_t}
    		&\coloneqq
    		\mathrm{sim}_\Chi (\Phi, e_s, e_t)
    	\\
    	   \iSimv[\Chi]{\Phi}{e_s}{e_t}
    	   &\coloneqq
    	   \iSim[\Chi]{\lambdaAbs (e_s', e_t') \ldotp \exists v_s, v_t \ldotp e_s' = v_s \iSep e_t' = v_t \iSep \Phi (v_s, v_t)}{e_s}{e_t}
    \end{align*}
    \caption{Simulation with protocol}
    \label{fig:sim}
\end{figure}