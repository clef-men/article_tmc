\begin{figure}[tp]
    \begin{mathparpagebreakable}
        \inferrule*
            {}{
                \boxed{- \headStep{\datalangProg} - : \datalangConfig[] \rightarrow \datalangConfig[] \rightarrow \Prop}
            }
        \and
        \inferrule*
            {}{
                \boxed{- \step{\datalangProg} - : \datalangConfig[] \rightarrow \datalangConfig[] \rightarrow \Prop}
            }
        \\
        \inferrule*[lab=StepLet]
            {}{
                \left(
                    \datalangLet{\datalangVar}{\datalangVal}{\datalangExpr},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \datalangExpr{} [\datalangVar \backslash \datalangVal],
                    \datalangState
                \right)
            }
        \and
        \inferrule*[lab=StepCall]
            {
                \datalangProg{} [\datalangFn] = (\datalangRec{\datalangVar}{\datalangExpr})
            }{
                \left(
                    \datalangCall{\datalangFnptr{\datalangFn}}{\datalangVal},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \datalangExpr{} [\datalangVar \backslash \datalangVal],
                    \datalangState
                \right)
            }
        \\
        \inferrule*[lab=StepBlock1]
            {}{
                \left(
                    \datalangBlock{\datalangTag}{\datalangExpr_1}{\datalangExpr_2},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \begin{array}{l}
                        \datalangLet{\datalangVar_1}{\datalangExpr_1}{\\
                        \datalangLet{\datalangVar_2}{\datalangExpr_2}{\\
                        \datalangBlockDet{\datalangTag}{\datalangVar_1}{\datalangVar_2}}}
                    \end{array},
                    \datalangState
                \right)
            }
        \and
        \inferrule*[lab=StepBlock2]
            {}{
                \left(
                    \datalangBlock{\datalangTag}{\datalangExpr_1}{\datalangExpr_2},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \begin{array}{l}
                        \datalangLet{\datalangVar_2}{\datalangExpr_2}{\\
                        \datalangLet{\datalangVar_1}{\datalangExpr_1}{\\
                        \datalangBlockDet{\datalangTag}{\datalangVar_1}{\datalangVar_2}}}
                    \end{array},
                    \datalangState
                \right)
            }
        \\
        \inferrule*[lab=StepBlockDet]
            {
                \forall \datalangIdx \in \datalangIdx[], \datalangLoc + \datalangIdx \notin \dom{\datalangState}
            }{
                \left(
                    \datalangBlockDet{\datalangTag}{\datalangVal_1}{\datalangVal_2},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \datalangLoc,
                    \datalangState{} [\datalangLoc \mapsto \datalangTag, \datalangVal_1, \datalangVal_2]
                \right)
            }
        \and
        \inferrule*[lab=StepLoad]
            {
                \datalangState{} [\datalangLoc + \datalangIdx] = \datalangVal
            }{
                \left(
                    \datalangLoad{\datalangLoc}{\datalangIdx},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \datalangVal,
                    \datalangState
                \right)
            }
        \and
        \inferrule*[lab=StepStore]
            {
                \datalangLoc + \datalangIdx \in \dom{\datalangState}
            }{
                \left(
                    \datalangStore{\datalangLoc}{\datalangIdx}{\datalangVal},
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \datalangUnit,
                    \datalangState{} [\datalangLoc + \datalangIdx \mapsto \datalangVal]
                \right)
            }
        \and
        \inferrule*[lab=StepEctx]
            {
                \left(
                    \datalangExpr,
                    \datalangState
                \right)
                \headStep{\datalangProg}
                \left(
                    \datalangExpr',
                    \datalangState'
                \right)
            }{
                \left(
                    \datalangEctx{} [\datalangExpr],
                    \datalangState
                \right)
                \step{\datalangProg}
                \left(
                    \datalangEctx{} [\datalangExpr'],
                    \datalangState'
                \right)
            }
    \end{mathparpagebreakable}
    \caption{\DataLang semantics (excerpt)}
    \label{fig:semantics}
\end{figure}