\documentclass[acmsmall,screen,review,anonymous]{acmart}
\settopmatter{printfolios=true,printccs=false,printacmref=false}
\renewcommand\footnotetextcopyrightpermission[1]{} % removes footnote with conference information in first column

% ---------------------------------------------------------

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[scaled=0.8]{beramono}

% ---------------------------------------------------------

\usepackage{boolean}
\usepackage{reversion}

\newcommand{\Anonymous}{\TRUE}

\newcommand{\nonanon}[2]{\Anonymous{#1 removed for anonymity.}{#2}}

% ---------------------------------------------------------

\usepackage{mybiblio}

% ---------------------------------------------------------

\usepackage{enumitem}

% ---------------------------------------------------------

\usepackage{mathtools}

\let\oldexists\exists
\let\exists\relax\DeclareMathOperator{\exists}{\oldexists}
\let\oldforall\forall
\let\forall\relax\DeclareMathOperator{\forall}{\oldforall}

\DeclareMathOperator{\lambdaAbs}{\lambda}
\DeclareMathOperator{\muAbs}{\mu}
\DeclareMathOperator{\nuAbs}{\nu}

% ---------------------------------------------------------

\usepackage{amsthm}

\newenvironment{myproof}[1][\proofname]{%
  \begin{proof}[#1]$ $\par\nobreak\ignorespaces
}{%
  \end{proof}
}

% ---------------------------------------------------------

\usepackage{bm}

% ---------------------------------------------------------

\usepackage{mathpartir}
\let\TirName\textsc
\renewcommand{\DefTirName}[1]{\hypertarget{#1}{\TirName {#1}}}
\newcommand{\RefTirName}[1]{\hyperlink{#1}{\TirName {#1}}}

\newenvironment{mathline}
   {\abovedisplayskip 0.2em
    \belowdisplayskip 0.2em
    \begin{mathpar}}
   {\end{mathpar}}

% ---------------------------------------------------------

\usepackage[capitalize,noabbrev,nameinlink]{cleveref}

% ---------------------------------------------------------
\usepackage{mycomments}
% % uncomment the following command to hide comments
\UNXXX

% ---------------------------------------------------------

\usepackage{macros}

\usepackage{listings/ocaml}
\usepackage{listings/datalang}

% ---------------------------------------------------------

%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{POPL}
\acmArticle{1}
\acmYear{2023}
\acmMonth{11}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

% ---------------------------------------------------------
% ---------------------------------------------------------

\begin{document}

% ---------------------------------------------------------

\title{Tail Modulo Cons, \OCaml, and Relational Separation Logic}

\author{Clément Allain}
\affiliation{
  \institution{Inria}
  \city{Paris}
  \country{France}
}
\email{clement.allain@inria.fr}

\author{Frédéric Bour}
\affiliation{
  \institution{Inria \& Tarides}
  \country{Japan}
}

\author{Basile Clément}
\affiliation{
  \institution{Inria \& OCamlPro}
  \country{France}
}

\author{François Pottier}
\affiliation{
  \institution{Inria}
  \city{Paris}
  \country{France}
}
\email{francois.pottier@inria.fr}

\author{Gabriel Scherer}
\affiliation{
  \institution{Inria}
  \city{Saclay}
  \country{France}
}
\email{gabriel.scherer@inria.fr}

\begin{abstract}
    \input{abstract}
\end{abstract}

\maketitle

\keywords{compilation, separation logic, program verification}

\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10003752.10003790.10011742</concept_id>
<concept_desc>Theory of computation~Separation logic</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003752.10010124.10010138.10010142</concept_id>
<concept_desc>Theory of computation~Program verification</concept_desc>
<concept_significance>500</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Theory of computation~Separation logic}
\ccsdesc[500]{Theory of computation~Program verification}

% ---------------------------------------------------------

\newcommand{\separate}{\FALSE}

\input{introduction}

\separate{\clearpage}{}
\input{formalization}

\separate{\clearpage}{}
\input{ocaml}

\separate{\clearpage}{}
\input{specification}

\separate{\clearpage}{}
\input{program_logic}

\separate{\clearpage}{}
\input{protocols}

\separate{\clearpage}{}
\input{proof}

\separate{\clearpage}{}
\input{simulation}

\separate{\clearpage}{}
\input{related}

% \separate{\clearpage}{}
% \input{conclusion}

\clearpage

%\hbadness=10000
\bibliography{tmc}

\clearpage
\appendix
\input{republication}

\clearpage
\input{more-ocaml}

\clearpage
\input{ocaml4-appendix}

\end{document}
