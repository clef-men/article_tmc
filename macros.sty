\RequirePackage{xspace}

\RequirePackage{stackrel}
\RequirePackage{scalerel}

% ---------------------------------------------------------

\newcommand{\etal}{%
    \textit{et al.}%
}
\newcommand{\circled}[1]{%
    \raisebox{.5pt}{\textcircled{\raisebox{-.9pt}{#1}}}%
}

% ---------------------------------------------------------

\newcommand{\mathhyphen}{%
    {\hbox{-}}%
}

\newcommand{\term}[1]{%
    \texttt{#1}%
}
\newcommand{\nterm}[1]{%
    \mathrm{#1}%
}

\newcommand{\finmap}{%
    \stackrel{\mathrm{fin}}{\rightharpoonup}%
}

\newcommand{\constr}[2][]{%
    \bold{#2}\ifx #1 \else (#1)\fi%
}

\newcommand{\dom}[1]{%
    \mathrm{dom} (#1)%
}
\newcommand{\codom}[1]{%
    \mathrm{codom} (#1)%
}

\newcommand{\fv}[1]{%
    \mathrm{fv} (#1)%
}

\newcommand{\Prop}{%
    \mathrm{Prop}%
}

\newcommand{\wf}[2][]{%
    \mathrm{wf}\ifx #1 \else _#1 \fi (#2)%
}

% ---------------------------------------------------------

\newcommand{\OCaml}{%
    \textsc{OCaml}\xspace%
}
\newcommand{\LambdaLang}{%
    \textsc{Lambda}\xspace%
}
\newcommand{\Mezzo}{%
    \textsc{Mezzo}\xspace%
}
\newcommand{\DataLang}{%
    \textsc{DataLang}\xspace%
}
\newcommand{\Coq}{%
    \textsc{Coq}\xspace%
}
\newcommand{\Iris}{%
    \textsc{Iris}\xspace%
}
\newcommand{\Simuliris}{%
    \textsc{Simuliris}\xspace%
}
\newcommand{\Autosubst}{%
    \textsc{Autosubst}\xspace%
}

% ---------------------------------------------------------

\newcommand{\headStep}[1]{%
    \stackrel[\scriptscriptstyle\textrm{head}]{\scriptscriptstyle#1}{\longrightarrow}%
}
\newcommand{\step}[1]{%
    \stackrel{\scriptscriptstyle#1}{\longrightarrow}%
}
\newcommand{\pureStep}[1]{%
    \stackrel[\scriptscriptstyle\textrm{pure}]{#1}{\longrightarrow}%
}

\newcommand{\diverges}[2]{%
    #2 \Uparrow_{#1}%
}

\newcommand{\similar}{%
    \sim%
}

\newcommand{\refined}{%
    \sqsupseteq%
}

\newcommand{\tmc}{%
    \rightsquigarrow%
}
\newcommand{\tmcDir}[1]{%
    \stackrel[\scriptscriptstyle\textrm{dir}]{#1}{\tmc}%
}
\newcommand{\tmcDps}[1]{%
    \stackrel[\scriptscriptstyle\textrm{dps}]{#1}{\tmc}%
}

% ---------------------------------------------------------

\newcommand{\iProp}{%
    \mathrm{iProp}%
}
\newcommand{\iOr}{%
    \vee%
}
\newcommand{\iSep}{%
    \ast%
}
\newcommand{\iBigSep}{%
    \scalerel*{\iSep}{\sum}%
}
\newcommand{\iWand}{%
    \mathrel{-\mkern-6mu\iSep}%
}
\newcommand{\iBupd}{%
    |\!\!\!\Rrightarrow%
}
\newcommand{\iPersistent}{%
    \square%
}
\newcommand{\iTrue}{%
    \mathrm{True}%
}
\newcommand{\iFalse}{%
    \mathrm{False}%
}
\newcommand{\iPointsto}{%
    \mapsto%
}
\newcommand{\iPred}{%
    \Phi%
}
\newcommand{\iPredTwo}{%
    \Psi%
}
\newcommand{\iProt}{%
    \mathrm{X}%
}
\newcommand{\iSimilar}{%
    \approx%
}
\newcommand{\iInBij}{%
    \stackrel{\scriptscriptstyle\textrm{bij}}{\iSimilar}%
}
\newcommand{\iTie}{%
    \leftrightarrow%
}
\newcommand{\iSim}[4][]{%
    #3 \gtrsim #4 \,%
    \ifx #1 \else \langle #1 \rangle \fi%
    \left[ #2 \right]%
}
\newcommand{\iSimv}[4][]{%
    #3 \gtrsim #4 \,%
    \ifx #1 \else \langle #1 \rangle \fi%
    \left\{ #2 \right\}%
}
\newcommand{\iSimHoare}[5][]{%
    \left[ #2 \right] \ \iSim[#1]{#3}{#4}{#5}%
}
\newcommand{\iSimvHoare}[5][]{%
    \left\{ #2 \right\} \ \iSimv[#1]{#3}{#4}{#5}%
}
\newcommand{\iRsim}[4][]{%
    #3 \geq #4 \,%
    \ifx #1 \else \langle #1 \rangle \fi%
    \left[ #2 \right]%
}
\newcommand{\iRsimv}[4][]{%
    #3 \geq #4 \,%
    \ifx #1 \else \langle #1 \rangle \fi%
    \left\{ #2 \right\}%
}
\newcommand{\iRsimHoare}[5][]{%
    \left[ #2 \right] \ \iRsim[#1]{#3}{#4}{#5}%
}
\newcommand{\iRsimvHoare}[5][]{%
    \left\{ #2 \right\} \ \iRsimv[#1]{#3}{#4}{#5}%
}